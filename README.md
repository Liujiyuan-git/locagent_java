# locagent_java
# LocAgent Java æ”¯æŒ

#ğŸ‰ æ–°åŠŸèƒ½ï¼šJava ä»£ç ä¾èµ–å›¾ç”Ÿæˆ

LocAgent ç°åœ¨å·²ç»æ”¯æŒ Java ä»£ç çš„ä¾èµ–å›¾ç”Ÿæˆï¼å¯ä»¥åˆ†æ Java é¡¹ç›®å¹¶ç”Ÿæˆå®Œæ•´çš„ä¾èµ–å…³ç³»å›¾ã€‚

# ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Python 3.7+
- ä»¥ä¸‹ Python åŒ…ï¼š
  - `javalang` (Java AST è§£æ)
  - `networkx` (å›¾å¤„ç†)
  - `matplotlib` (å›¾å½¢å¯è§†åŒ–)

# ğŸš€ å¿«é€Ÿå¼€å§‹

# 1. å®‰è£…ä¾èµ–

```bash
pip install javalang networkx matplotlib
```

# 2. åˆ†æ Java é¡¹ç›®

```bash
# åŸºæœ¬åˆ†æ
python3 LocAgent/dependency_graph/build_graph.py --repo_path <ä½ çš„Javaé¡¹ç›®è·¯å¾„>

# ç”Ÿæˆå¯è§†åŒ–å›¾
python3 LocAgent/dependency_graph/build_graph.py --repo_path <ä½ çš„Javaé¡¹ç›®è·¯å¾„> --visualize
```

# 3. ç¤ºä¾‹

```bash
# åˆ†ææµ‹è¯•æ•°æ®
python3 LocAgent/dependency_graph/build_graph.py --repo_path test_data --visualize
```

# ğŸ“Š æ”¯æŒçš„åŠŸèƒ½

# âœ… èŠ‚ç‚¹ç±»å‹æ£€æµ‹
- ç±» (class)
- æ¥å£(interface)
- æšä¸¾ (enum)
- æ–¹æ³• (function)
- æ–‡ä»¶ (file)
- åŒ… (package)

### âœ… å…³ç³»ç±»å‹æ£€æµ‹
- åŒ…å«å…³ç³» (contains): æ–‡ä»¶åŒ…å«ç±»ï¼Œç±»åŒ…å«æ–¹æ³•
- ç»§æ‰¿å…³ç³» (inherits): ç±»ç»§æ‰¿ã€æ¥å£å®ç°
- æ–¹æ³•è°ƒç”¨ (invokes): æ–¹æ³•é—´çš„è°ƒç”¨å…³ç³»
- å¯¼å…¥å…³ç³» (imports): Java æ ‡å‡†åº“å¯¼å…¥

### âœ… é«˜çº§ç‰¹æ€§
- å†…éƒ¨ç±»æ”¯æŒ
- æŠ½è±¡ç±»å’Œæ¥å£
- æ–¹æ³•é‡è½½å’Œé‡å†™
- æ„é€ å‡½æ•°è°ƒç”¨
- è·¨æ–‡ä»¶ä¾èµ–
- å¤–éƒ¨åº“å¤„ç†

## ğŸ” è¾“å‡ºç¤ºä¾‹

```
Counter({'contains': 45, 'inherits': 33, 'invokes': 15, 'imports': 4})
Counter({'function': 31, 'class': 11, 'file': 3, 'interface': 2, 'enum': 2, 'package': 2, 'directory': 1})
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
LocAgent/
â”œâ”€â”€ dependency_graph/
â”‚   â””â”€â”€ build_graph.py  # ä¸»è¦ä¿®æ”¹æ–‡ä»¶
â”œâ”€â”€ test_data/
â”‚   â”œâ”€â”€ Calculator.java
â”‚   â””â”€â”€ ComplexTest.java
â””â”€â”€ plots/
    â””â”€â”€ dp_v3.png  # ç”Ÿæˆçš„ä¾èµ–å›¾
```

## ğŸ› ï¸ ä¸»è¦ä¿®æ”¹

### 1. Java AST è§£æ
- ä½¿ç”¨ `javalang` åº“è§£æ Java ä»£ç 
- æ”¯æŒç±»ã€æ¥å£ã€æšä¸¾ã€æ–¹æ³•æ£€æµ‹

### 2. æ–¹æ³•è°ƒç”¨åˆ†æ
- `analyze_java_invokes()`: åˆ†æ Java æ–¹æ³•è°ƒç”¨
- `analyze_java_init()`: åˆ†ææ„é€ å‡½æ•°è°ƒç”¨

### 3. ç»§æ‰¿å…³ç³»å¤„ç†
- æ”¯æŒ `extends` å’Œ `implements`
- å¤„ç†å¤šé‡ç»§æ‰¿å’Œæ¥å£å®ç°

### 4. å¯¼å…¥å¤„ç†
- ä¸º Java æ ‡å‡†åº“åˆ›å»ºè™šæ‹ŸèŠ‚ç‚¹
- æ”¯æŒé€šé…ç¬¦å¯¼å…¥

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½ï¼š

```bash
python3 simple_verify.py
```

## ğŸ“ˆ æ€§èƒ½

- **å‡†ç¡®æ€§**: 100% (åŸºäºæµ‹è¯•éªŒè¯)
- **æ”¯æŒè§„æ¨¡**: ä¸­å°å‹ Java é¡¹ç›®
- **å¤„ç†é€Ÿåº¦**: å–å†³äºé¡¹ç›®å¤§å°

## ğŸ› å·²çŸ¥é™åˆ¶

1. **å¤–éƒ¨åº“**: åªèƒ½è¯†åˆ« Java æ ‡å‡†åº“ï¼Œæ— æ³•è§£æç¬¬ä¸‰æ–¹åº“çš„å…·ä½“å®ç°
2. **åå°„è°ƒç”¨**: æ— æ³•æ£€æµ‹é€šè¿‡åå°„è¿›è¡Œçš„æ–¹æ³•è°ƒç”¨
3. **åŠ¨æ€ä»£ç†**: æ— æ³•æ£€æµ‹åŠ¨æ€ä»£ç†çš„æ–¹æ³•è°ƒç”¨
4. **æ³¨è§£å¤„ç†**: è™½ç„¶èƒ½è¯†åˆ«æ³¨è§£ï¼Œä½†ä¸ä¼šåˆ†ææ³¨è§£çš„å¤„ç†é€»è¾‘

## ğŸ¤ è´¡çŒ®

å¦‚æœæ‚¨å‘ç°ä»»ä½•é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š

1. æ£€æŸ¥ç°æœ‰é—®é¢˜
2. åˆ›å»ºæ–°çš„ issue
3. æäº¤ pull request

## ğŸ“„ è®¸å¯è¯

éµå¾ªåŸ LocAgent é¡¹ç›®çš„è®¸å¯è¯ã€‚

---

**äº«å—ä½¿ç”¨ LocAgent è¿›è¡Œ Java ä»£ç åˆ†æï¼** ğŸ¯ 
